{
	"name": "message-channel",
	"versions": {
		"1.0.3": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.0.3",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.3.tgz",
				"shasum": "2dc649cc0a3e7b3c77dcaf5d9720da39ceafcb84"
			},
			"dependencies": {
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-preset-es2015": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist/",
				"connect.js",
				"listener.js",
				"README.md"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": "yoshi release"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.3.0",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.0.3",
			"private": false,
			"gitHead": "66dc0d09d8625cbc353d9cc69a108bc683ea2722",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"es2015"
				]
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.0.3.tgz_1507625810057_0.40505335107445717"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.6.0"
		},
		"2.0.0": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "2.0.0",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-2.0.0.tgz",
				"shasum": "c58a38810ba3b521d3e5b500da7a83b42c52c609"
			},
			"dependencies": {
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-preset-es2015": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist/",
				"connect.js",
				"listener.js",
				"README.md"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": ":"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@2.0.0",
			"private": false,
			"gitHead": "e71252b3268af3b98301d9b93573f8825b706035",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"es2015"
				]
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-2.0.0.tgz_1508406247020_0.5745529918931425"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.7.0"
		},
		"1.0.0": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.0.0",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.0.tgz",
				"shasum": "7dad24a83c6ec4d204189a1db19f433dd7de7f17"
			},
			"dependencies": {
				"babel-runtime": "^6.22.0",
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-plugin-transform-runtime": "^6.22.0",
				"babel-preset-env": "^1.5.2",
				"babel-preset-stage-3": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": "yoshi release"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.0.0",
			"private": false,
			"gitHead": "ecb4bca16b7fbe785c0ff0658263619f989c525b",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"stage-3"
				],
				"plugins": [
					"transform-runtime"
				],
				"env": {
					"test": {
						"presets": [
							[
								"env",
								{
									"targets": {
										"node": "current"
									}
								}
							]
						]
					},
					"development": {
						"presets": [
							"env"
						]
					}
				}
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.0.0.tgz_1507039892039_0.6707508459221572"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.4.0"
		},
		"1.0.1": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.0.1",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.1.tgz",
				"shasum": "cb921a962c24d11ac77804e9b2d6e09c784ffada"
			},
			"dependencies": {
				"babel-runtime": "^6.22.0",
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-plugin-transform-runtime": "^6.22.0",
				"babel-preset-env": "^1.5.2",
				"babel-preset-stage-3": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist"
			],
			"maintainers": [
				{
					"email": "ci@wix.com",
					"name": "wix-ci"
				},
				{
					"email": "ranyitzhaki@gmail.com",
					"name": "ranyitzhaki"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": "yoshi release"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.0.1",
			"private": false,
			"gitHead": "e60d278d8ca8f52c0cb24810ce1d3d82a62583e9",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"stage-3"
				],
				"plugins": [
					"transform-runtime"
				],
				"env": {
					"test": {
						"presets": [
							[
								"env",
								{
									"targets": {
										"node": "current"
									}
								}
							]
						]
					},
					"development": {
						"presets": [
							"env"
						]
					}
				}
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.0.1.tgz_1507046516457_0.29084199108183384"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.4.0"
		},
		"1.1.0": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.1.0",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.1.0.tgz",
				"shasum": "3c8cfaf5232e0e1d07fc9089e5407a01613bd3ae"
			},
			"dependencies": {
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-preset-es2015": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist/",
				"connect.js",
				"listener.js",
				"README.md"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": ":"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.1.0",
			"private": false,
			"gitHead": "85b1506cc5d3f938f4b1abf28d22d9abadaa95e0",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"es2015"
				]
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.1.0.tgz_1508085422589_0.17002351651899517"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.7.0"
		},
		"1.0.2": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.0.2",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.2.tgz",
				"shasum": "4f11d79c76b083b9077addd6aebbdee2de640c6e"
			},
			"dependencies": {
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-preset-es2015": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist/",
				"connect.js",
				"listener.js",
				"README.md"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": "yoshi release"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.0.2",
			"private": false,
			"gitHead": "1f2154eacd3863aad7be35044ca97d113914c85d",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"es2015"
				]
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.0.2.tgz_1507542276587_0.7453179389704019"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.6.0"
		},
		"1.2.0": {
			"name": "message-channel",
			"description": "> request and response abstraction for message channel",
			"version": "1.2.0",
			"author": {
				"name": "Ran Yitzhaki",
				"email": "rany@wix.com",
				"url": "https://github.com/wix/message-channel"
			},
			"main": "./dist/src/index.js",
			"dist": {
				"tarball": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.2.0.tgz",
				"shasum": "6b417889f835e49f78d6409ae052f04e5523deab"
			},
			"dependencies": {
				"uuid": "^3.1.0"
			},
			"devDependencies": {
				"babel-preset-es2015": "^6.5.0",
				"chai": "^3.5.0",
				"eslint": "~4.7.2",
				"eslint-config-wix": "~1.1.16",
				"husky": "^0.13.4",
				"jsdom": "11.2.0",
				"jsdom-global": "3.0.2",
				"puppeteer": "~0.11.0",
				"yoshi": "^1.1.275"
			},
			"files": [
				"dist/",
				"connect.js",
				"listener.js",
				"README.md"
			],
			"maintainers": [
				{
					"name": "ranyitzhaki",
					"email": "ranyitzhaki@gmail.com"
				}
			],
			"directories": {},
			"scripts": {
				"start": "yoshi start",
				"build": ":",
				"precommit": "yoshi lint",
				"pretest": "yoshi build",
				"test": "yoshi test",
				"posttest": "yoshi lint",
				"release": ":"
			},
			"publishConfig": {
				"registry": "https://registry.npmjs.org/"
			},
			"_npmVersion": "5.4.2",
			"_npmUser": {
				"name": "ranyitzhaki",
				"email": "ranyitzhaki@gmail.com"
			},
			"_id": "message-channel@1.2.0",
			"private": false,
			"gitHead": "840d529c7469bc17a4676f6f9018cd6eb064169e",
			"yoshi": {
				"entry": {
					"connect": "./connect/connect-global.js",
					"listener": "./listener/listener-global.js"
				}
			},
			"babel": {
				"presets": [
					"es2015"
				]
			},
			"_npmOperationalInternal": {
				"host": "s3://npm-registry-packages",
				"tmp": "tmp/message-channel-1.2.0.tgz_1508400772231_0.031037597451359034"
			},
			"eslintConfig": {
				"extends": "wix/esnext",
				"globals": {
					"window": true
				}
			},
			"_nodeVersion": "8.7.0"
		}
	},
	"time": {
		"1.0.3": "2017-10-10T08:56:51.108Z",
		"2.0.0": "2017-10-19T09:44:07.944Z",
		"created": "2017-06-02T00:16:35.021Z",
		"modified": "2018-04-17T10:56:17.278Z",
		"1.0.0": "2017-10-03T14:11:33.395Z",
		"1.0.1": "2017-10-03T16:01:57.699Z",
		"1.1.0": "2017-10-15T16:37:03.620Z",
		"0.0.1": "2017-06-02T00:16:35.021Z",
		"1.0.2": "2017-10-09T09:44:37.639Z",
		"1.2.0": "2017-10-19T08:12:53.168Z"
	},
	"dist-tags": {
		"latest": "2.0.0"
	},
	"_uplinks": {
		"npmjs": {
			"fetched": 1547828414693
		}
	},
	"_distfiles": {
		"message-channel-1.0.3.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.3.tgz",
			"sha": "2dc649cc0a3e7b3c77dcaf5d9720da39ceafcb84"
		},
		"message-channel-2.0.0.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-2.0.0.tgz",
			"sha": "c58a38810ba3b521d3e5b500da7a83b42c52c609"
		},
		"message-channel-1.0.0.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.0.tgz",
			"sha": "7dad24a83c6ec4d204189a1db19f433dd7de7f17"
		},
		"message-channel-1.0.1.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.1.tgz",
			"sha": "cb921a962c24d11ac77804e9b2d6e09c784ffada"
		},
		"message-channel-1.1.0.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.1.0.tgz",
			"sha": "3c8cfaf5232e0e1d07fc9089e5407a01613bd3ae"
		},
		"message-channel-1.0.2.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.0.2.tgz",
			"sha": "4f11d79c76b083b9077addd6aebbdee2de640c6e"
		},
		"message-channel-1.2.0.tgz": {
			"url": "https://repo.dev.wixpress.com/artifactory/api/npm/npm-repos/message-channel/-/message-channel-1.2.0.tgz",
			"sha": "6b417889f835e49f78d6409ae052f04e5523deab"
		}
	},
	"_attachments": {},
	"_rev": "5-6160ccba600ca0d6",
	"readme": "# message-channel\n> request and response abstraction for message channel\n\nThe best communication method between an iframe and the main frame is through [Channel messaging API](https://developer.mozilla.org/en-US/docs/Web/API/Channel_Messaging_API).\n\n[![Build Status](https://travis-ci.org/wix/message-channel.svg?branch=master)](https://travis-ci.org/wix/message-channel)\n## TLDR\nUse this library for fast and performant communication between frames which uses message channel api underneath the hood.\n__________________________________________________\n\n### why do i need it ?\nlet's say we want to have few iframes which need to communicate with the main frame.\n\n#### usualy we'll need to:\n* Listen to post messages from the main frame.\n* Create a message channel from the iframe side.\n* Send a post message with one of the ports to the main frame.\n* Get the message from the iframe and register a callback to messages from the channel.\n* Be able to fit the main frame replies to the requests from the iframe.\n\n#### with message-channel\n\n```js\n// on the main frame\nimport listenerMessageChannel from 'message-channel/listener';\n\n// the listener will call the onMessage callback everytime a connection is being established.\n\nconst handleMessage = (e, reply) => reply(e.data + ' world');\n\nlistenerMessageChannel('scope-name', handleMessage);\n```\n\n```js\n// on the iframe\nimport connectMessageChannel from 'message-channel/connect';\n\n// Establish a connection with the main frame and send messages.\nconst send = await connectMessageChannel('scope-name');\n\nsend('hello')\n  .then(e => console.log(e.data)); // 'hello world'\n```\n\n## Installation\n\n### use a scipt tag and import the bundle\n```html\n<!-- add this on the main frame -->\n<script src=\"node_modules/message-channel/dist/statics/listener.bundle.min.js\" />\n<script> window.listenerMessageChannel(); // function will be available </script>\n```\n\n```html\n<!-- add this on the iframe -->\n<script src=\"node_modules/message-channel/dist/statics/listener.bundle.min.js\" />\n<script> window.connectMessageChannel(); // function will be available </script>\n```\n\n### you can also use npm\n\n```bash\nnpm i --save message-channel\n```\n\n### or yarn\n\n```bash\nyarn add message-channel\n```\n\n## basic usage\n\n**scope** - A scope is way to differentiate between two or more message-channels in the same application. (**it has to be the same on both listener and connect**)\n\n## methods\n\n### connectMessageChannel(scope: `string`, options: `object`): reply: `string`\n\n* targetOrigin = `string` ([target origin for the connection post message](https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage)) = '*',\n* connectionMaxTimeout: `number` (ms) = 200\n* messageMaxTimeout: `number` (ms) = 6000\n\n### listenerMessageChannel(scope: `string`, messageHandler: `function`): `void`\n\n```js\nmessageHandler((e: `object`, reply: `function`) => {\n  reply(e.data); // will return a reply with the argument value (value must be serializable)\n});\n```\n\n__important note!:__ The event you'll get on the `onMessage` callback is a mirror of the [messageEvent](https://developer.mozilla.org/en-US/docs/Web/API/MessageEvent) type. The reason for not sending the \"real\" event, is that we add an id to every message and we want to strip the id from the data.\n\n### stop the listener\nIf you want to stop the listener, just call the stop function which returns from the call to the listener.\n\n```js\nconst stop = listenerMessageChannel('scope-name', (e, reply) => reply(e.data + ' world'));\n\nstop(); // The listener won't work.\n```"
}